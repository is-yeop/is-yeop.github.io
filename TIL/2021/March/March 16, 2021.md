# March 16, 2021 TIL

# typescript
- [promise](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Promise)
    - 객체 생성 `new Promise(() => {})`
        - 함수 인자만 받는다
        - resolve, reject

# PostgreSQL
- [제한 시간 이후 자동 삭제하기](https://stackoverflow.com/questions/26046816/is-there-a-way-to-set-an-expiry-time-after-which-a-data-entry-is-automaticall)
    - 함수를 제작하여 삭제하는 걸루
    - 예시
        ```sql
            CREATE FUNCTION expire_table_delete_old_rows() RETURNS trigger
                LANGUAGE plpgsql
                AS $$
            BEGIN
                DELETE FROM expire_table WHERE timestamp < NOW() - INTERVAL '1 minute';
                RETURN NEW;
            END;
            $$;

            CREATE TRIGGER expire_table_delete_old_rows_trigger
                AFTER INSERT ON expire_table
                EXECUTE PROCEDURE expire_table_delete_old_rows();

            ```
    - 